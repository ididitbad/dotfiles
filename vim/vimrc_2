source $VIMRUNTIME/defaults.vim
augroup vimHints | exe 'au!' | augroup END

set nocompatible

syntax enable
filetype plugin indent on

" match more than brackets
packadd! matchit

set number

" break long lines
set wrap
" don't break words
set linebreak

set hlsearch
set incsearch

" copy indent when adding new line
set autoindent

" use spaces instead of tabs
set expandtab
" use 4 spaces when using > and < commands
set shiftwidth=4
" use 4 spaces when inserting <Tab> character
set tabstop=4
" delete 4 spaces with <BS> in the beginning of the line
set smarttab        
" automatically insert comment leader when adding new line
" and remove it when joining lines
set formatoptions+=roj

" number of lines around cursor
set scrolloff=1

set listchars=eol:$,tab:>-,trail:Â·,extends:>,precedes:<

" buffers
set hidden

" windows
set splitright
set splitbelow
set equalalways

" don't show "search hit BOTTOM..."
set shortmess+=s
" don't show completion messages
set shortmess+=c

set showmode
" show unfinished command
set showcmd
set ruler

" tab-completion menu
set wildmenu

" no error bells
set belloff=all

" mappings
let mapleader = " "
nmap <silent> <leader>L :set list!<cr>
nmap <silent> <leader>l :nohlsearch<cr>
nmap <silent> <leader>w :set wrap!<cr>
nmap <silent> <leader>n :set number!<cr>
nmap <silent> <leader>N :set relativenumber!<cr>
" todo: check if buffer is already opened
nmap <silent> <leader>E :edit $MYVIMRC<cr>
nmap <silent> <leader>R :source $MYVIMRC<cr>
nmap <silent> <leader>s :mksession! ~/.vim/session.vim<cr>
nmap <silent> <leader>S :source ~/.vim/session.vim<cr>
nmap <silent> <leader>t :terminal<cr>

" move by visible lines in wrap mode
nnoremap <Up> gk
nnoremap <Down> gj
nnoremap k gk
nnoremap j gj
" swap commands moving by visible and real lines
nnoremap gk k
nnoremap gj j
" todo: maybe delete
"nmap <silent> <leader>s :write<cr>
nmap <silent> <leader>M :set mouse=a<cr>

" colors
set background=dark

" plugins
if empty(glob('~/.vim/autoload/plug.vim'))
    silent! !curl -sfLo ~/.vim/autoload/plug.vim --create-dirs
        \ https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
    autocmd VimEnter * PlugInstall --sync | source $MYVIMRC
endif

call plug#begin()
Plug 'morhetz/gruvbox'
call plug#end()

silent! colorscheme gruvbox
